{"version":3,"file":"BaseImage.vue.cjs.js","sources":["../../../src/components/BaseImage/BaseImage.vue"],"sourcesContent":["<template>\n  <img\n    :alt=\"alt\"\n    :data-src=\"lazyload ? source : null\"\n    :data-srcset=\"lazyload ? sourceSet : null\"\n    :src=\"lazyload ? clearPng : source\"\n    :srcset=\"lazyload ? null : sourceSet\"\n    :class=\"['base-image', { lazyload: lazyload }]\"\n    @error=\"emitError\">\n</template>\n\n<script>\nimport 'lazysizes';\n\n/**\n * Component to render an image and optional lazy-loading\n */\n\nexport default {\n  name: 'BaseImage',\n  props: {\n    /**\n     * set `alt` attribute\n     */\n    alt: {\n      type: String,\n      default: '',\n    },\n    /**\n     * specify lazy image loading\n     */\n    lazyload: {\n      type: Boolean,\n      default: false,\n    },\n    /**\n     * set `src` attribute\n     */\n    src: {\n      type: String,\n      default: '',\n    },\n    /**\n     * set `srcSet` attribute\n     * structure: `[{ '640w': 'path' }]`\n     */\n    srcset: {\n      type: Array,\n      default: () => [],\n    },\n  },\n  computed: {\n    clearPng() {\n      return 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mP8//t3PQAJbAN2AyakNQAAAABJRU5ErkJggg==';\n    },\n    source() {\n      const last = this.srcset.length - 1;\n      return this.srcset[last]\n        ? Object.values(this.srcset[last])[0] : this.src;\n    },\n    sourceSet() {\n      return this.srcset.length ? this.srcset.map(size => Object.keys(size)\n        .map(width => `${size[width]} ${width}`)).join(', ') : null;\n    },\n  },\n  methods: {\n    emitError(event) {\n      /**\n       * @event error\n       * @param {ErrorEvent} - the native <img> error event\n       */\n      this.$emit('error', event);\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n  .base-image {\n    max-width: 100%;\n    height: auto;\n    vertical-align: top;\n    transition: opacity 250ms ease-in-out;\n\n    &.lazyloading {\n      opacity: 0;\n    }\n\n    &.lazyloaded {\n      opacity: 1;\n    }\n  }\n</style>\n"],"names":["_sfc_main","last","size","width","event"],"mappings":"qOAkBAA,EAAA,CACA,KAAA,YACA,MAAA,CAIA,IAAA,CACA,KAAA,OACA,QAAA,EACA,EAIA,SAAA,CACA,KAAA,QACA,QAAA,EACA,EAIA,IAAA,CACA,KAAA,OACA,QAAA,EACA,EAKA,OAAA,CACA,KAAA,MACA,QAAA,IAAA,CAAA,CACA,CACA,EACA,SAAA,CACA,UAAA,CACA,MAAA,wHACA,EACA,QAAA,CACA,MAAAC,EAAA,KAAA,OAAA,OAAA,EACA,OAAA,KAAA,OAAAA,CAAA,EACA,OAAA,OAAA,KAAA,OAAAA,CAAA,CAAA,EAAA,CAAA,EAAA,KAAA,GACA,EACA,WAAA,CACA,OAAA,KAAA,OAAA,OAAA,KAAA,OAAA,IAAAC,GAAA,OAAA,KAAAA,CAAA,EACA,IAAAC,GAAA,GAAAD,EAAAC,CAAA,CAAA,IAAAA,CAAA,EAAA,CAAA,EAAA,KAAA,IAAA,EAAA,IACA,CACA,EACA,QAAA,CACA,UAAAC,EAAA,CAKA,KAAA,MAAA,QAAAA,CAAA,CACA,CACA,CACA"}