"use strict";Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const u=require("../BaseButton/BaseButton.vue.cjs.js"),d=require("../BaseLink/BaseLink.vue.cjs.js"),c=require("../../utils/utils.cjs.js");require("./BaseNavigation.vue.cjs2.js");const v=require("../../_virtual/_plugin-vue2_normalizer.cjs.js"),h={name:"BaseNavigation",components:{BaseButton:u.default,BaseLink:d.default},props:{primaryItems:{type:Array,default:()=>[{id:"1",label:"Label",shortLabel:"",route:"/"}],validator:n=>n.every(e=>!["id","label"].some(i=>!Object.keys(e).includes(i))&&(e.route||e.url))},secondaryItems:{type:Array,default:()=>[{id:"1",label:"Label",shortLabel:"",route:"/"}],validator:n=>n.every(e=>!["id","label"].some(i=>!Object.keys(e).includes(i))&&(e.route||e.url))},renderAs:{type:String,default:"a",validate:n=>["RouterLink","NuxtLink","a"].includes(n)},navigationLabel:{type:String,default:"App Navigation"},menuButtonLabel:{type:String,default:"Toggle Navigation"},activeElementId:{type:[String,Number],default:null},mobileSize:{type:Number,default:640}},data(){return{navOpen:!1,showShortLabel:!1,resizeTimeout:null,isMobile:!1}},computed:{routerAvailable(){return!!this.$router},navElements(){return[].concat(this.primaryItems,this.secondaryItems)},activeElement(){let n=null;if(this.activeElementId)n=this.navElements.find(e=>e.id===this.activeElementId);else if(this.$route){const{path:e}=this.$route;n=this.navElements.find(i=>i.routeMatch&&e.search(i.routeMatch)>=0),n||(n=this.navElements.find(i=>e===i.route))}return!n&&!this.navElements.some(e=>e.routeMatch)&&!this.activeElementId&&console.warn("Attention - no active element could be identified and the first list item will be used!Please set an active element via prop `activeElementId` or `routeMatch` property."),n||this.navElements[0]},activeElementIdInt(){var n;return((n=this.activeElement)==null?void 0:n.id)??""},mobileDropDownElements(){return this.navElements.filter(n=>n.id!==this.activeElementIdInt)},mobileRightElements(){return this.secondaryItems.filter(n=>n.id!==this.activeElementIdInt)},mobileLeftElements(){return this.primaryItems.filter(n=>n.id!==this.activeElementIdInt)},showSeparator(){return!!this.mobileLeftElements.length&&!!this.mobileRightElements.length&&this.mobileLeftElements.length+this.mobileRightElements.length>2}},mounted(){this.calcIsMobile(),this.$nextTick(()=>{this.calcTextWidth()}),window.addEventListener("resize",this.resizeTriggered)},destroyed(){window.removeEventListener("resize",this.resizeTriggered)},methods:{calcTextWidth(){const n=this.isMobile?"mobileViewNavigation":"desktopNavigation",e=this.$refs[n].cloneNode(!0),i=this.$refs[n].clientWidth;if(e.style.maxWidth=`${i}px`,this.$refs[n].parentElement.append(e),this.isMobile){const t=this.$refs.menuButton.$el.clientWidth,a=e.firstChild.firstChild,s=a.firstChild,l=Number(window.getComputedStyle(a).paddingLeft.replace("px",""));s.innerText=this.activeElement.label,this.showShortLabel=i-t-2*l<s.scrollWidth||this.mobileDropDownElements.some(r=>(s.innerText=r.label,Math.ceil(i-2*l)<s.scrollWidth))}else this.showShortLabel=[...e.childNodes].flat().filter(t=>t instanceof HTMLElement&&t.getElementsByClassName("base-navigation__nav-item-link")[0]).some((t,a)=>{var o;const s=t.firstChild,l=s.firstChild;l.innerText=(o=this.navElements[a])==null?void 0:o.label;const r=Number(window.getComputedStyle(s).paddingLeft.replace("px",""));return Math.ceil(s.clientWidth-2*r)<l.scrollWidth});e.remove()},resizeTriggered(){c.debounce(300,()=>{this.calcIsMobile(),this.$nextTick(()=>{this.calcTextWidth()})})()},calcIsMobile(){this.isMobile=(window==null?void 0:window.innerWidth)<this.mobileSize}}};var b=function(){var e=this,i=e._self._c;return i("nav",{staticClass:"base-navigation",attrs:{"aria-label":e.navigationLabel}},[e.isMobile?[i("div",{ref:"mobileViewNavigation",staticClass:"base-navigation__mobile-nav-bar"},[i("div",{staticClass:"base-navigation__nav-item"},[i("BaseLink",{staticClass:"base-navigation__nav-item-link base-navigation__nav-item-link--active",attrs:{"render-link-as":e.renderAs,value:e.showShortLabel&&e.activeElement.shortLabel?e.activeElement.shortLabel:e.activeElement.label,"additional-attributes":{ariaCurrentValue:"page",exactPath:!0},"identifier-property-value":e.activeElement.route},scopedSlots:e._u([{key:"label",fn:function({label:t}){return[i("span",{class:{"base-navigation__nav-item-link__text--truncation":e.showShortLabel}},[e._v(" "+e._s(t)+" ")])]}}])})],1),e.isMobile&&e.mobileDropDownElements.length?i("BaseButton",{ref:"menuButton",staticClass:"base-navigation__mobile-menu-button",attrs:{"button-style":"row",text:"","icon-title":e.menuButtonLabel,icon:e.navOpen?"remove":"drag-lines","aria-expanded":e.navOpen.toString()},on:{clicked:function(t){e.navOpen=!e.navOpen}}}):e._e()],1),i("transition",{attrs:{name:"translateY"}},[e.navOpen?i("ul",{staticClass:"base-navigation__drop-down"},[e._l(e.mobileLeftElements,function(t){return i("li",{key:`pm-${t.id}`,staticClass:"base-navigation__nav-item"},[i("BaseLink",{class:["base-navigation__nav-item-link",{"base-navigation__nav-item-link--separator":e.mobileLeftElements.length+e.mobileRightElements.length>2},{"base-navigation__nav-item-link--active":e.activeElementIdInt===t.id}],attrs:{"render-link-as":e.renderAs,value:e.showShortLabel&&t.shortLabel?t.shortLabel:t.label,"identifier-property-value":t.route||void 0,url:t.url||void 0},nativeOn:{click:function(a){e.navOpen=!1},keydown:function(a){if(!a.type.indexOf("key")&&e._k(a.keyCode,"enter",13,a.key,"Enter"))return null;e.navOpen=!1}},scopedSlots:e._u([{key:"label",fn:function({label:a}){return[i("span",{class:{"base-navigation__nav-item-link__text--truncation":e.showShortLabel}},[e._v(" "+e._s(a)+" ")])]}}],null,!0)})],1)}),e._l(e.mobileRightElements,function(t){return i("li",{key:`sm-${t.id}`,class:["base-navigation__nav-item","base-navigation__nav-item--secondary",{"base-navigation__nav-item--separator":e.showSeparator}]},[i("BaseLink",{class:["base-navigation__nav-item-link",{"base-navigation__nav-item-link--active":e.activeElementIdInt===t.id}],attrs:{"render-link-as":e.renderAs,value:e.showShortLabel&&t.shortLabel?t.shortLabel:t.label,"identifier-property-value":t.route||void 0,url:t.url||void 0},nativeOn:{click:function(a){e.navOpen=!1},keydown:function(a){if(!a.type.indexOf("key")&&e._k(a.keyCode,"enter",13,a.key,"Enter"))return null;e.navOpen=!1}},scopedSlots:e._u([{key:"label",fn:function({label:a}){return[i("span",{class:{"base-navigation__nav-item-link__text--truncation":e.showShortLabel}},[e._v(" "+e._s(a)+" ")])]}}],null,!0)})],1)})],2):e._e()])]:i("ul",{ref:"desktopNavigation",staticClass:"base-navigation__nav-items"},[e._l(e.primaryItems,function(t){return i("li",{key:`p-${t.id}`,staticClass:"base-navigation__nav-item"},[i("BaseLink",{class:["base-navigation__nav-item-link",{"base-navigation__nav-item-link--active":e.activeElementIdInt===t.id}],attrs:{"render-link-as":e.renderAs,value:e.showShortLabel&&t.shortLabel?t.shortLabel:t.label,"aria-current":t.id===e.activeElementIdInt?"page":null,"identifier-property-value":t.route||void 0,url:t.url||void 0},scopedSlots:e._u([{key:"label",fn:function({label:a}){return[i("span",{class:{"base-navigation__nav-item-link__text--truncation":e.showShortLabel}},[e._v(" "+e._s(a)+" ")])]}}],null,!0)})],1)}),e._l(e.secondaryItems,function(t){return i("li",{key:`s-${t.id}`,staticClass:"base-navigation__nav-item base-navigation__nav-item--secondary"},[i("BaseLink",{class:["base-navigation__nav-item-link",{"base-navigation__nav-item-link--active":e.activeElementIdInt===t.id}],attrs:{"render-link-as":e.renderAs,value:e.showShortLabel&&t.shortLabel?t.shortLabel:t.label,"aria-current":t.id===e.activeElementIdInt?"page":null,"identifier-property-value":t.route||void 0,url:t.url||void 0},scopedSlots:e._u([{key:"label",fn:function({label:a}){return[i("span",{class:{"base-navigation__nav-item-link__text--truncation":e.showShortLabel}},[e._v(" "+e._s(a)+" ")])]}}],null,!0)})],1)})],2)],2)},m=[],_=v.default(h,b,m,!1,null,"c5ea6286",null,null);const f=_.exports;exports.default=f;
//# sourceMappingURL=BaseNavigation.vue.cjs.js.map
