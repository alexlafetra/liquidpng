"use strict";Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const a=require("vue"),s=require("../../composables/useTabKeyHandler.cjs.js"),i=require("../BaseIcon/BaseIcon.vue.cjs.js"),l=require("../BaseButton/BaseButton.vue.cjs.js"),u=require("../../mixins/popUpLock.cjs.js");require("./BasePopUp.vue.cjs2.js");const r=require("../../_virtual/_plugin-vue2_normalizer.cjs.js"),c={name:"BasePopUp",components:{BaseIcon:i.default,BaseButton:l.default,BaseLoader:()=>Promise.resolve().then(()=>require("../BaseLoader/BaseLoader.vue.cjs.js")).then(o=>o.default||o)},mixins:[u.default],props:{title:{type:String,default:"Pop Up"},headerId:{type:[String,Number],default:"popup-title"},descriptionElementId:{type:String,default:""},buttonLeftText:{type:String,default:"Cancel"},buttonRightText:{type:String,default:"Submit"},buttonLeftIcon:{type:String,default:"remove"},buttonRightIcon:{type:String,default:"check-mark"},buttonRightDisabled:{type:Boolean,default:!1},closeButtonDisabled:{type:Boolean,default:!1},isLoading:{type:Boolean,default:!1},initialFocusElement:{type:String,default:""},fullscreenOnMobile:{type:Boolean,default:!1},focusableElements:{type:Array,default:()=>["a[href]","button:enabled","input:enabled",'*[tabindex]:not([tabindex="-1"])']},disableTabKeyHandler:{type:Boolean,default:!1},showButtonRow:{type:Boolean,default:!0},overlayBackgroundVisible:{type:Boolean,default:!1}},setup(o){const e=a.ref(null),{focusableHTMLTags:t,disableHandler:n}=s.useTabKeyHandler(e,o.focusableElements.join(", "),o.disableTabKeyHandler);return a.watchEffect(()=>{t.value=o.focusableElements,n.value=o.disableTabKeyHandler}),{popUpBody:e}},data(){return{targetName:"popUpBody",prevActiveElement:void 0}},mounted(){document.onkeyup=o=>{document.querySelector(".popup-box")&&!this.closeButtonDisabled&&o.key==="Escape"&&document.querySelector(".popup-box .base-popup__close-button").dispatchEvent(new Event("click"))},this.prevActiveElement=document.activeElement,this.$nextTick(()=>{this.determineFocus()})},beforeDestroy(){this.prevActiveElement&&(this.prevActiveElement.focus(),this.prevActiveElement=!1)},methods:{close(){this.$emit("close")},buttonRight(){this.$emit("button-right")},buttonLeft(){this.$emit("button-left")},determineFocus(){var o,e;this.initialFocusElement&&((o=this.$el)!=null&&o.querySelector(this.initialFocusElement))?this.$el.querySelector(this.initialFocusElement).focus():(e=this.$el)!=null&&e.querySelector(`#${this.headerId}`)&&this.$el.querySelector(`#${this.headerId}`).focus()}}};var p=function(){var e=this,t=e._self._c;return t("div",{class:["base-pop-up",{"base-pop-up--fullscreen-on-mobile":e.fullscreenOnMobile}]},[t("div",{class:["base-pop-up__background",{"base-pop-up__background--visible":e.overlayBackgroundVisible}]}),t("div",{ref:"popUpBody",staticClass:"popup-box",attrs:{"aria-labelledby":e.headerId,"aria-describedby":e.descriptionElementId,role:"alertdialog","aria-modal":"true"}},[t("div",{staticClass:"popup-header"},[e._t("header-title",function(){return[t("div",{staticClass:"popup-title",attrs:{id:e.headerId,tabindex:"-1"}},[e._v(" "+e._s(e.title)+" ")])]},{headerId:e.headerId}),e.closeButtonDisabled?e._e():t("button",{staticClass:"base-popup__close-button",attrs:{type:"button","aria-label":"close pop up"},on:{click:e.close}},[t("base-icon",{staticClass:"popup-remove",attrs:{name:"remove"}})],1)],2),t("div",{staticClass:"popup-content"},[e._t("default"),e.showButtonRow?t("div",{staticClass:"popup-button-row"},[e._t("button-row",function(){return[t("BaseButton",{staticClass:"base-popup-button",attrs:{id:"popup-left-button",text:e.buttonLeftText,icon:e.buttonLeftIcon,"icon-position":"right","icon-size":"small"},on:{clicked:e.buttonLeft}}),t("BaseButton",{staticClass:"base-popup-button",attrs:{id:"popup-right-button",text:e.buttonRightText,icon:e.isLoading?"":e.buttonRightIcon,"icon-position":"right","icon-size":"small",disabled:e.buttonRightDisabled},on:{clicked:e.buttonRight},scopedSlots:e._u([{key:"right-of-text",fn:function(){return[t("span",{directives:[{name:"show",rawName:"v-show",value:e.isLoading,expression:"isLoading"}],staticClass:"base-popup-button-loader"},[t("BaseLoader")],1)]},proxy:!0}],null,!1,288902964)})]})],2):e._e()],2)])])},d=[],b=r.default(c,p,d,!1,null,"af969576",null,null);const f=b.exports;exports.default=f;
//# sourceMappingURL=BasePopUp.vue.cjs.js.map
