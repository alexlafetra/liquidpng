<template>
    <b-dialog :open="visible" :title="title" dialog-class="sm" @close="close">
        <div :class="messageClass" class="message-modal-body">
            <p>{{ message }}</p>
        </div>

        <button slot="actions" class="simple lg" @click="close" v-text="getText('cancel', '取消')"></button>
        <button slot="actions" class="simple lg" @click="confirm" v-text="getText('confirm', '确认')"></button>
    </b-dialog>
</template>

<script>
    import BDialog from '../../../../component/b-dialog';
    import {getText} from '../../../../util/i18n';

    export default {
        name: 'InfoModal',

        components: {
            BDialog
        },

        props: {
            message: {
                type: String,
                required: true
            },
            title: {
                type: String,
                default: () => ''
            },
            messageClass: {
                type: String,
                default: null
            }
        },

        data() {
            return {
                visible: false
            };
        },

        methods: {
            getText(key, defaultText) {
                return getText({vm: this, key, defaultText});
            },

            close() {
                const vm = this;
                vm.visible = false;
                vm.reject();
            },

            confirm() {
                const vm = this;
                vm.visible = false;
                vm.resolve();
            }
        }
    };

</script>
