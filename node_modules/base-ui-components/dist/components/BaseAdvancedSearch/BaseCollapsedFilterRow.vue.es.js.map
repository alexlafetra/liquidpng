{"version":3,"file":"BaseCollapsedFilterRow.vue.es.js","sources":["../../../src/components/BaseAdvancedSearch/BaseCollapsedFilterRow.vue"],"sourcesContent":["<template>\n  <div\n    class=\"base-collapsed-filter-row\">\n    <!-- Container to add fade out effect -->\n    <div\n      ref=\"filterListContainer\"\n      :class=\"['base-collapsed-filter-row__filter-list-container',\n               {\n                 'base-collapsed-filter-row__filter-list-container__fade-right':\n                   filterFade.right,\n               },\n               {\n                 'base-collapsed-filter-row__filter-list-container__fade-left':\n                   filterFade.left,\n               }]\">\n      <!-- the actual list of filters -->\n      <ul\n        ref=\"filterList\"\n        :aria-description=\"assistiveText.appliedFiltersLabel\"\n        :class=\"[\n          'base-collapsed-filter-row__filter-list',\n          { 'base-collapsed-filter-row__filter-list__scrollable': filterListScrollable },\n          { 'base-collapsed-filter-row__filter-list__scrolling': isScrolling }\n        ]\"\n        @mousedown=\"mouseDownHandler\"\n        @touchstart=\"mouseDownHandler\">\n        <li\n          v-for=\"(filter, filterIndex) in filtersInt\"\n          :key=\"filter.idInternal\"\n          :aria-describedby=\"`${filter.idInternal}-label`\"\n          role=\"listitem\"\n          tabindex=\"0\"\n          :class=\"['base-collapsed-filter-row__filter',\n                   { 'base-collapsed-filter-row__filter__boolean': filter.filter_values\n                     .fieldType === 'boolean' }]\">\n          <template v-if=\"filter.filter_values && filterValuesHaveData(filter.filter_values.values)\">\n            <div\n              :id=\"`${filter.idInternal}-label`\"\n              class=\"base-collapsed-filter-row__filter-label\">\n              {{ filter.labelInternal }}\n            </div>\n            <!-- the chips for each filter -->\n            <ul\n              class=\"base-collapsed-filter-row__chips-list\">\n              <!-- iterate through the filter values list -->\n              <template\n                v-for=\"(value, valueIndex) in filter.filter_values?.values\">\n                <!-- check if filter.fieldType is an array to determine if it belongs to a field group -->\n                <template v-if=\"filter.filter_values.fieldType === 'group'\">\n                  <!-- if yes - also iterate through those values -->\n                  <template v-for=\"(groupValue, groupIndex) in value.values\">\n                    <BaseCollapsedFilterItem\n                      v-if=\"groupValue.labelInternal\"\n                      :key=\"groupValue.idInternal\n                        || `${groupValue.labelInternal}-${valueIndex}-${groupIndex}`\"\n                      :value=\"groupValue\"\n                      :type=\"value.fieldType\"\n                      :range-indicator=\"getRangeIndicator(value, groupIndex)\"\n                      :scrollable=\"filterListScrollable\"\n                      :is-scrolling=\"isScrolling\"\n                      :date-time-text=\"dateTimeText\"\n                      :interpret-label-as-html=\"(typeof interpretLabelAsHtml === 'boolean'\n                        && interpretLabelAsHtml) || (typeof interpretLabelAsHtml === 'object'\n                        && calcSubFormChipHtmlRender(filter.idInternal, value.fieldId))\"\n                      :assistive-text=\"{\n                        booleanFilterLabel: assistiveText.booleanFilterLabel\n                          ? assistiveText.booleanFilterLabel\n                            .replace('{label}', filter.labelInternal) : groupValue.labelInternal.toString(),\n                        optionToRemoveSelected: assistiveText.optionToRemoveSelected,\n                      }\"\n                      @remove-chip=\"removeChip(filterIndex, valueIndex, groupIndex)\" />\n                  </template>\n                </template>\n                <template v-else>\n                  <BaseCollapsedFilterItem\n                    v-if=\"value.labelInternal\"\n                    :key=\"value.idInternal || `${value.labelInternal}-${valueIndex}`\"\n                    :value=\"value\"\n                    :type=\"filter.filter_values.fieldType\"\n                    :range-indicator=\"getRangeIndicator(filter.filter_values, valueIndex)\"\n                    :scrollable=\"filterListScrollable\"\n                    :is-scrolling=\"isScrolling\"\n                    :date-time-text=\"dateTimeText\"\n                    :interpret-label-as-html=\"(typeof interpretLabelAsHtml === 'boolean'\n                      && interpretLabelAsHtml) || (typeof interpretLabelAsHtml === 'object'\n                      && interpretLabelAsHtml.includes(filter.idInternal))\"\n                    :assistive-text=\"{\n                      booleanFilterLabel: assistiveText.booleanFilterLabel\n                        ? assistiveText.booleanFilterLabel\n                          .replace('{label}', filter.labelInternal) : value.labelInternal.toString(),\n                      optionToRemoveSelected: assistiveText.optionToRemoveSelected,\n                    }\"\n                    @remove-chip=\"removeChip(filterIndex, valueIndex)\" />\n                </template>\n              </template>\n            </ul>\n          </template>\n        </li>\n      </ul>\n    </div>\n    <span\n      v-if=\"chipRemovedAssistiveText\"\n      aria-live=\"assertive\"\n      class=\"assistive-text\">\n      {{ chipRemovedAssistiveText }}\n    </span>\n\n    <!-- remove all filters button -->\n    <button\n      :title=\"assistiveText.removeFiltersLabel\"\n      class=\"base-collapsed-filter-row__remove\"\n      @click=\"removeFilters\">\n      <BaseIcon\n        name=\"remove\"\n        class=\"base-collapsed-filter-row__remove-icon\" />\n    </button>\n  </div>\n</template>\n\n<script>\nimport BaseIcon from '@/components/BaseIcon/BaseIcon';\nimport BaseCollapsedFilterItem from '@/components/BaseAdvancedSearch/BaseCollapsedFilterItem';\nimport { hasData } from '@/utils/utils';\n\n/**\n * component for BaseAdvancedSearch 'form' mode to display form filter values efficiently\n */\nexport default {\n  name: 'BaseCollapsedFilterRow',\n  components: {\n    BaseCollapsedFilterItem,\n    BaseIcon,\n  },\n  props: {\n    /**\n     * provide a list of filters in array form, every array object that needs the following properties:\n     *  **idInternal** `string` - a filter identifier\n     *  **labelInternal** `string` - a label shown for the filter\n     *  **filter_values** `{\n     *    values: { labelInternal: string|boolean, idInternal: string? }[]|{ values: {}, fieldId: string, fieldType: string }[]\n     *    fieldId: string,\n     *    fieldType: string,\n     *   }[]` - the values that were selected for the filter (set by BaseAdvancedSearch internally), this is again\n     *    an array of objects with the properties\n     *      `values` - either containing the actual values to display (with `labelInternal` and `idInternal` (optional) properties)\n     *      OR in case of field groups to have nested another object array with `fieldType`, `fieldId` and `values` properties\n     *      again (see below for description)\n     *    `fieldId`: the property of the form field in question\n     *    `fieldType`: the type of the field in question\n     */\n    filters: {\n      type: Array,\n      default: () => ([]),\n      validator: (val) => {\n        // define all required props here\n        const requiredProps = ['idInternal', 'labelInternal', 'filter_values'];\n        const requiredFilterValueProps = ['values', 'fieldType', 'fieldId'];\n        // iterate through the filter array - return true if NO prop is missing\n        return !val.some((filter) => {\n          // get the properties the filter has\n          const filterProps = Object.keys(filter);\n          const filterValueProps = Object.keys(filter.filter_values);\n          // check if any of those is missing\n          let propMissing = requiredProps.some(prop => !filterProps.includes(prop));\n          // only continue checking if all props were found so far\n          if (!propMissing) {\n            propMissing = requiredFilterValueProps.some(prop => !filterValueProps.includes(prop));\n            // only continue checking if all props were found so far\n            if (!propMissing) {\n              // now also check if all filter.filter_values have a label to display\n              propMissing = filter.filter_values.values.some((filterValue) => {\n                // check for special case field groups where filter_values has nested arrays - so\n                // if filterValue has a length it is a nested array\n                if (filterValue?.values?.length >= 0) {\n                  const groupFilterValueProps = Object.keys(filterValue);\n                  // if yes check for each array if it has content and if yes, if it has the labelInternal property\n                  return filterValue.values.length !== 0\n                    && requiredFilterValueProps.some(prop => !groupFilterValueProps.includes(prop))\n                    && filterValue.values\n                      // also account here for special case boolean which does not need a labelInternal\n                      .some(nestedFilterValue => !Object.keys(nestedFilterValue).includes('labelInternal'));\n                }\n                // else check for each filterValue if labelInternal property is there\n                return !Object.keys(filterValue).includes('labelInternal');\n              });\n            }\n          }\n          // return boolean value if prop is missing\n          return propMissing;\n        });\n      },\n    },\n    /**\n     * set the text displayed for date or time values of ranges where only one field is\n     * filled.\n     */\n    dateTimeText: {\n      type: Object,\n      default: () => ({\n        from: 'from',\n        until: 'until',\n        range: 'to',\n      }),\n      validator: val => !['from', 'until', 'range'].some(property => !Object.keys(val).includes(property)),\n    },\n    /**\n     * if necessary selected chip text can be rendered as v-html directive\n     * can be `true` (all fields will have html rendering enabled) `false` or a list\n     *  of field names for which rendering should be enabled, for nested fields\n     *  specify an object with a list of child field names.\n     *  e.g. :interpretLabelAsHtml=\"['field1', { [field2]: ['childField1'] }]\"\n     */\n    interpretLabelAsHtml: {\n      type: [Boolean, Array],\n      default: false,\n    },\n    /**\n     * **removeFiltersLabel**: add a descriptive label used for the remove all\n     *  filters icon in collapsed row\n     * **filterRemovedNotification**: notification that is read by screenreaders when a filter\n     *  value was removed. Add the string {value} to read the filter value that was removed and\n     *  {label} to read the label of the filter from which the value was removed.\n     * **appliedFiltersLabel**: description for the filters in the collapsed filter row.\n     * **booleanFilterLabel**: Set text that should be read for a boolan filter value. You may add\n     *      the string {label} which will be replaced by the filter label.\n     * **optionToRemoveSelected**: text read when an option is focused (and thus selected), should\n     *  announce to the screen reader user that option can now be removed via Backspace or Delete.\n     */\n    assistiveText: {\n      type: Object,\n      default: () => ({\n        removeFiltersLabel: 'Remove all filters.',\n        filterRemovedNotification: 'Filter value {value} was removed from filter {label}.',\n        appliedFiltersLabel: 'Currently applied Filters',\n        booleanFilterLabel: 'Filter {label} was set',\n        optionToRemoveSelected: 'Press delete or backspace to remove.',\n      }),\n    },\n  },\n  data() {\n    return {\n      /**\n       * internal representation of filters list, for a list of object properties see\n       *  prop `filters`\n       * @type Object[]\n       */\n      filtersInt: [],\n      /**\n       * variable to steer filter mobile display fade outs\n       * also if element is scrollable is determined from this variable (see computed\n       * prop filterListScrollable)\n       * @type {Object}\n       * @property {boolean} filterFade.left - left fade out\n       * @property {boolean} filterFade.right - right fade out\n       */\n      filterFade: {\n        left: false,\n        right: true,\n      },\n      /**\n       * store the element scroll and mouse cursor position, needed for drag scrolling\n       * @type {Object}\n       * @property {number} top - element scrollTop value\n       * @property {number} left - element scrollLeft value\n       * @property {number} x - cursor x position\n       * @property {number} y - cursor y position\n       */\n      pos: { top: 0, left: 0, x: 0, y: 0 },\n      /**\n       * store the scroll drag element\n       * @type {?HTMLElement}\n       */\n      scrollContainer: null,\n      /**\n       * set cursor styling according to current scroll state\n       * use variable instead of setting css class directly so child component\n       *  BaseCollapsedFilter item can also be steered easily\n       */\n      isScrolling: false,\n      /**\n       * Resize Observer to trigger fade out calculations\n       * @type {?ResizeObserver}\n       */\n      resizeObserver: null,\n      /**\n       * assistive text set when a chip was removed to be read\n       * by screenreader\n       * @type {string}\n       */\n      chipRemovedAssistiveText: '',\n    };\n  },\n  computed: {\n    /**\n     * determine from fade out calculations if element is scrollable\n     * @returns {boolean}\n     */\n    filterListScrollable() {\n      return this.filterFade.right || this.filterFade.left;\n    },\n  },\n  watch: {\n    /**\n     * keep filters in sync with parent component and vice versa\n     */\n    filters: {\n      handler(val) {\n        if (JSON.stringify(val) !== JSON.stringify(this.filtersInt)) {\n          this.filtersInt = JSON.parse(JSON.stringify(val));\n        }\n      },\n      immediate: true,\n    },\n    /**\n     * keep filters in sync with parent component and vice versa\n     */\n    filtersInt: {\n      handler(val) {\n        if (JSON.stringify(val) !== JSON.stringify(this.filters)) {\n          this.$emit('update:filters', [...val]);\n        }\n        this.$nextTick(() => this.calcFadeOut());\n      },\n      deep: true,\n    },\n  },\n  mounted() {\n    // check if filter list exists (which it should since element only displayed\n    // if filter values are present)\n    if (this.$refs.filterList) {\n      // store the filter list element (which is the scroll container)\n      this.scrollContainer = this.$refs.filterList;\n    }\n    // add a resize observer for the fade out and scroll functionalities\n    this.initResizeObserver();\n  },\n  beforeDestroy() {\n    // remove resize observer from element\n    if (this.resizeObserver) this.resizeObserver.unobserve(this.$refs.filterList);\n  },\n  methods: {\n    /**\n     * if 'remove all' icon was triggered just emit event to parent to take care of this\n     */\n    removeFilters() {\n      /**\n       * event emitted on remove icon click to remove all filters\n       * @event remove-all\n       */\n      this.$emit('remove-all');\n    },\n    /**\n     * function to remove one specific value from a filter in the filters list\n     * @param {number} filterIndex - the index of the filter\n     * @param {number} valueIndex - the index of the specific value\n     * @param {number?} groupIndex - in case filter is from form group, this is the index of the field\n     *  within the group\n     */\n    removeChip(filterIndex, valueIndex, groupIndex) {\n      const { fieldType, values } = this.filtersInt[filterIndex].filter_values;\n      const filterLabel = this.filtersInt[filterIndex].labelInternal;\n      // get the filter value label and assume it is not a group\n      const filterValue = fieldType === 'group' ? values[valueIndex].values[groupIndex].labelInternal\n        : values[valueIndex].labelInternal;\n      // first check special case group\n      if (fieldType === 'group') {\n        // get all the concatenated values within the group\n        const concatValuesArray = values.reduce((prev, { values: groupFilterValues }) => prev\n          .concat(groupFilterValues.filter(val => hasData(val))), []);\n        // check if more than 1 value is left in the whole row\n        if (concatValuesArray.length < 2 && this.filtersInt.length < 2) {\n          this.removeFilters();\n          // now check if more than one value is left for the group\n        } else if (concatValuesArray.length > 1) {\n          // check for special case date and time fields\n          if (values[valueIndex].fieldType.includes('date') || values[valueIndex].fieldType.includes('time')) {\n            // for date arrays just remove the labelInternal so the order of the date_from and date_to does not\n            // get mixed up by removing the complete value\n            this.filtersInt[filterIndex].filter_values.values[valueIndex].values[groupIndex].labelInternal = '';\n          } else {\n            // if its not a date just splice the value out of the array\n            this.filtersInt[filterIndex].filter_values.values[valueIndex].values.splice(groupIndex, 1);\n          }\n          // else this means there is only 1 value in the group left and the whole filter group can be\n          // spliced away\n        } else {\n          // if no - just splice the complete filter group away\n          this.filtersInt.splice(filterIndex, 1);\n        }\n        // check if this is the last (or only) filter value currently selected\n      } else if (this.filtersInt.length === 1 && values.length === 1) {\n        // if yes - remove the complete row\n        this.removeFilters();\n        // else check if this is the only value for a specific filter\n      } else if (values.length === 1) {\n        // if yes - remove the complete filter\n        this.filtersInt.splice(filterIndex, 1);\n        // special case date object\n      } else if (fieldType.includes('date') || fieldType.includes('time')) {\n        if (values.filter(value => hasData(value)).length < 2) {\n          // if yes - remove the complete filter\n          this.filtersInt.splice(filterIndex, 1);\n        } else {\n          this.filtersInt[filterIndex].filter_values.values[valueIndex].labelInternal = '';\n        }\n      } else {\n        this.filtersInt[filterIndex].filter_values.values.splice(valueIndex, 1);\n      }\n      // set the assistive text so it is read by screenreader\n      this.chipRemovedAssistiveText = this.assistiveText.filterRemovedNotification\n        .replace('{label}', filterLabel)\n        .replace('{value}', filterValue);\n      // and remove it again afterward\n      setTimeout(() => {\n        this.chipRemovedAssistiveText = '';\n      }, 300);\n    },\n\n    /** SCROLL RELATED FUNCTIONALITIES */\n\n    /**\n     * set up resize observer for filterList to be able to adjust filter fade out\n     * and scroll functionality\n     */\n    initResizeObserver() {\n      const tempResizeObserver = new ResizeObserver(this.calcFadeOut);\n      tempResizeObserver.observe(this.$refs.filterList);\n      this.resizeObserver = tempResizeObserver;\n    },\n    /**\n     * function triggered by mouse down on filter list, triggering scroll functionality\n     * @param {MouseEvent} event - the mouse down event\n     */\n    mouseDownHandler(event) {\n      // check if filterList is actually scrollable\n      if (this.filterListScrollable) {\n        // save the current element scroll state and mouse position\n        this.pos = {\n          // The current scroll\n          left: this.scrollContainer.scrollLeft,\n          top: this.scrollContainer.scrollTop,\n          // Get the current mouse position\n          x: event.clientX ?? (event.touches ? event.touches[0]?.clientX : 0),\n          y: event.clientY ?? (event.touches ? event.touches[0]?.clientY : 0),\n        };\n        // add event listeners for mousemove and mouseup to be able to trigger scroll\n        // for touch devices add touch event listeners\n        if (event.type === 'touchstart') {\n          document.addEventListener('touchmove', this.mouseMoveHandler);\n          document.addEventListener('touchend', this.mouseUpHandler);\n        } else {\n          // else add mouse events\n          document.addEventListener('mousemove', this.mouseMoveHandler);\n          document.addEventListener('mouseup', this.mouseUpHandler);\n        }\n        // Change the cursor and prevent user from selecting the text\n        this.isScrolling = true;\n      }\n    },\n    /**\n     * function triggered by document mouse move after event listeners were added\n     * in mouse down filter list element event\n     * @param {MouseEvent} e\n     */\n    mouseMoveHandler(e) {\n      // get event position - touch event does not have clientX/clientY - fallback\n      // to touches position\n      const eventXPosition = e.clientX ?? (e.touches ? e.touches[0]?.clientX : 0);\n      const eventYPosition = e.clientY ?? (e.touches ? e.touches[0]?.clientY : 0);\n      // How far the mouse has been moved\n      const dx = eventXPosition - this.pos.x;\n      const dy = eventYPosition - this.pos.y;\n\n      // Scroll the element\n      this.scrollContainer.scrollTop = this.pos.top - dy;\n      this.scrollContainer.scrollLeft = this.pos.left - dx;\n      // check if fade out needs to be shown / has changed\n      this.calcFadeOut();\n    },\n    /**\n     * function triggered by document mouse up after event listeners were added\n     * in mouse down filter list element event\n     */\n    mouseUpHandler() {\n      // remove all the event listeners again\n      document.removeEventListener('mousemove', this.mouseMoveHandler);\n      document.removeEventListener('mouseup', this.mouseUpHandler);\n      document.removeEventListener('touchmove', this.mouseMoveHandler);\n      document.removeEventListener('touchend', this.mouseUpHandler);\n\n      // change the styling of the element back to normal\n      this.isScrolling = false;\n    },\n    /**\n     * function to calculate if filterList fade out should be shown on element left and/or right border\n     */\n    calcFadeOut() {\n      // get current element scroll position\n      const scrollPosition = Math.floor(this.scrollContainer.scrollLeft);\n      // get element max scroll position\n      const scrollMax = this.scrollContainer.scrollWidth - this.scrollContainer.clientWidth;\n      // set filter fade variables\n      this.filterFade = {\n        // show fade out left as soon as scroll position is different from 0\n        left: scrollPosition !== 0,\n        // show fade out right as soon as scroll position is different from maximum position\n        // but only if element exceeds available space\n        right: scrollMax !== 0 && scrollPosition !== scrollMax,\n      };\n    },\n\n    /** OTHER METHODS */\n\n    /**\n     * determine if the provided filter values array has any label data in it\n     * (could be kept in the filter values list even if empty in order to be able\n     * to map again to the original formFieldValues)\n     * @param {Object[]} filterValues\n     * @returns {boolean}\n     */\n    filterValuesHaveData(filterValues) {\n      return hasData(filterValues);\n    },\n    getRangeIndicator(filterValues, index) {\n      // check if it is a filter with an array of exactly two values\n      if (filterValues.values.length === 2\n        && ['date', 'time'].includes(filterValues.fieldType)) {\n        if (!!filterValues.values[0].labelInternal\n          && !!filterValues.values[1].labelInternal && index === 1) {\n          return this.dateTimeText.range;\n        }\n        if (!filterValues.values[1].labelInternal && filterValues.values[0].labelInternal) {\n          return this.dateTimeText.from;\n        }\n        if (!filterValues.values[0].labelInternal && filterValues.values[1].labelInternal) {\n          return this.dateTimeText.until;\n        }\n      }\n      return '';\n    },\n    /**\n     * we need to check if `interpretLabelAsHtml` was set true for a subform field when\n     *  the prop was provided as [{ [parentField]: ['subfield1'] }]\n     * @param {string} filterId - the filter id as provided to this component (in the form\n     *  [fieldname]-group-[index])\n     * @param {string} valueId - the property name of the actual subformfield\n     * @returns {boolean}\n     */\n    calcSubFormChipHtmlRender(filterId, valueId) {\n      // get the correct filter property name from the id\n      // e.g. 'weekday-date-group-0' -> 'weekday-date'\n      const filterPropertyName = filterId.split('-').slice(0, 1).join('-');\n      // find the correct object in the `interpretLabelAsHtml` array\n      const subFormList = this.interpretLabelAsHtml\n        .find(id => typeof id === 'object' && Object.keys(id).includes(filterPropertyName));\n      // check if a value was found and if the field name is included in the list of that value\n      return !!subFormList && subFormList[filterPropertyName].includes(valueId);\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n@import \"../../styles/variables\";\n\n.base-collapsed-filter-row {\n  position: relative;\n  height: $row-height-large;\n  align-items: center;\n  padding-left: $spacing;\n  border-top: $separation-line;\n  display: flex;\n  flex-direction: row;\n  overflow: hidden;\n\n  .base-collapsed-filter-row__filter-list-container {\n    position: relative;\n    flex: 1 1 auto;\n    overflow: hidden;\n\n    &.base-collapsed-filter-row__filter-list-container__fade-left::before {\n      content: '';\n      width: $fade-out-width;\n      height: 100%;\n      position: absolute;\n      top: 0;\n      background: linear-gradient(to right, rgba(255, 255, 255, 1), rgba(255, 255, 255, 0));\n      z-index: map-get($zindex, chips-fadeout);\n      pointer-events: none;\n    }\n\n    &.base-collapsed-filter-row__filter-list-container__fade-right::after {\n      content: '';\n      width: $fade-out-width;\n      height: 100%;\n      position: absolute;\n      top: 0;\n      right: 0;\n      background: linear-gradient(to right, rgba(255, 255, 255, 0), rgb(255, 255, 255));\n      z-index: map-get($zindex, chips-fadeout);\n      pointer-events: none;\n    }\n\n    .base-collapsed-filter-row__filter-list {\n      display: flex;\n      overflow-x: auto;\n      scrollbar-width: none; /* Firefox */\n      -ms-overflow-style: none;  /* Internet Explorer 10+ */\n\n      &::-webkit-scrollbar { /* WebKit */\n        width: 0;\n        height: 0;\n      }\n\n      &.base-collapsed-filter-row__filter-list__scrollable {\n        cursor: grab;\n      }\n\n      &.base-collapsed-filter-row__filter-list__scrolling {\n        cursor: grabbing;\n        user-select: none;\n      }\n\n      .base-collapsed-filter-row__filter {\n        display: flex;\n        flex-direction: column;\n        justify-content: flex-start;\n        flex: 0 0 auto;\n        overflow-y: hidden;\n\n        + .base-collapsed-filter-row__filter {\n          margin-left: $spacing;\n        }\n\n        &.base-collapsed-filter-row__filter__boolean {\n          flex: 0 1 auto;\n          min-width: 150px;\n          overflow: hidden;\n        }\n\n        .base-collapsed-filter-row__filter-label {\n          font-size: $font-size-small;\n          color: $font-color-second;\n          white-space: nowrap;\n          width: 100%;\n          overflow: hidden;\n          text-overflow: ellipsis;\n        }\n\n        .base-collapsed-filter-row__chips-list {\n          display: flex;\n          flex-direction: row;\n          white-space: nowrap;\n          align-items: center;\n          flex: 1 0 auto;\n          height: calc(#{$line-height} + #{$spacing-small});\n\n          .base-collapsed-filter-row__group-chip--spacing-right {\n            margin-right: $spacing-small;\n          }\n        }\n      }\n    }\n  }\n\n  .base-collapsed-filter-row__remove {\n    background: white;\n    display: flex;\n    flex: 0 0 auto;\n    padding: 0 $spacing;\n    height: 100%;\n    align-items: center;\n\n    &:hover, &:active, &:focus {\n      color: $app-color;\n    }\n\n    .base-collapsed-filter-row__remove-icon {\n      height: $icon-medium;\n      width: $icon-medium;\n      cursor: pointer;\n    }\n  }\n}\n</style>\n"],"names":["_sfc_main","BaseCollapsedFilterItem","BaseIcon","val","requiredProps","requiredFilterValueProps","filter","filterProps","filterValueProps","propMissing","prop","filterValue","_a","groupFilterValueProps","nestedFilterValue","property","filterIndex","valueIndex","groupIndex","fieldType","values","filterLabel","concatValuesArray","prev","groupFilterValues","hasData","value","tempResizeObserver","event","_b","e","eventXPosition","eventYPosition","dx","dy","scrollPosition","scrollMax","filterValues","index","filterId","valueId","filterPropertyName","subFormList","id"],"mappings":"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"}